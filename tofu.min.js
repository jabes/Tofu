var cacheEvents={},cacheElements={},jsonpHandler={},jsonpTimeout={},readyStates={complete:"complete",loaded:"loaded"},attributes={id:"id",src:"src",type:"type",guid:"guid"},events={click:"click",load:"load",readystatechange:"readystatechange",domcontentloaded:"domcontentloaded"},html={script:"script",head:"head",body:"body",div:"div",span:"span"},css={display:"display",width:"width",height:"height",visibility:"visibility",opacity:"opacity",filter:"filter",zIndex:"zIndex",cssFloat:"float",fontWeight:"fontWeight",
zoom:"zoom",lineHeight:"lineHeight"},splElmIds={window:"GUID-WINDOW",document:"GUID-DOCUMENT"},regex={ss:/\s/g,purl:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,query:/(?:^|&)([^&=]*)=?([^&]*)/g,nump:/[^0-9\.\-]+/g,camel:/-+(.) ?/g,fext:/[^.]+$/,opacity:/^0.55$/},protoString=Object.prototype.toString,defaultView=document.defaultView,whiteSpace=" ",asterisk="*",cssUnit="px",ieEventPrefix="on",MIME_JSTXT="text/javascript",
NULL_TYPE="null",UNDEFINED_TYPE="undefined",BOOLEAN_TYPE="boolean",NUMBER_TYPE="number",STRING_TYPE="string",OBJECT_TYPE="object",ARRAY_TYPE="array",FUNCTION_TYPE="function",ELEMENT_TYPE="element",DATE_TYPE="date",BOOLEAN_CLASS="[object Boolean]",NUMBER_CLASS="[object Number]",STRING_CLASS="[object String]",ARRAY_CLASS="[object Array]",FUNCTION_CLASS="[object Function]",DATE_CLASS="[object Date]",support={opacity:function(){var a=document.createElement(html.div);a.innerHTML='<span style="opacity:.55;"></span>';
a=a.getElementsByTagName(html.span)[0];return regex.opacity.test(a.style[css.opacity])},cssFloat:function(){var a=document.createElement(html.div);a.innerHTML='<span style="float:left;"></span>';return!!a.getElementsByTagName(html.span)[0].style.cssFloat}},$={onDomReady:function(a){var b=document.addEventListener?events.domcontentloaded:events.readystatechange,c=function(){$.removeEvent(document,b);$.removeEvent(window,events.load)};document.readyState!==readyStates.complete?($.addEvent(document,
b,function(){document.readyState===readyStates.complete&&(c.call(),a.call())}),$.addEvent(window,events.load,function(){c.call();a.call()})):a.call()},loadScript:function(a,b){var c,d={},e=function(){$.removeEvent(c,events.readystatechange);$.removeEvent(c,events.load)};d[attributes.src]=a;d[attributes.type]=MIME_JSTXT;c=$.domAppend(html.script,document.getElementsByTagName(html.head)[0],d);$.addEvent(c,events.readystatechange,function(){if(c.readyState===readyStates.complete||c.readyState===readyStates.loaded)e.call(),
b(c)});$.addEvent(c,events.load,function(){e.call();b(c)})},type:function(a){switch(a){case null:return NULL_TYPE;case void 0:return UNDEFINED_TYPE}switch(protoString.call(a)){case BOOLEAN_CLASS:return BOOLEAN_TYPE;case NUMBER_CLASS:return NUMBER_TYPE;case STRING_CLASS:return STRING_TYPE;case ARRAY_CLASS:return ARRAY_TYPE;case FUNCTION_CLASS:return FUNCTION_TYPE;case DATE_CLASS:return DATE_TYPE}return 1===a.nodeType?ELEMENT_TYPE:OBJECT_TYPE},isElement:function(a){return $.type(a)===ELEMENT_TYPE},
isNull:function(a){return $.type(a)===NULL_TYPE},isUndefined:function(a){return $.type(a)===UNDEFINED_TYPE},isBoolean:function(a){return $.type(a)===BOOLEAN_TYPE},isNumber:function(a){return $.type(a)===NUMBER_TYPE},isString:function(a){return $.type(a)===STRING_TYPE},isObject:function(a){return $.type(a)===OBJECT_TYPE},isFunction:function(a){return $.type(a)===FUNCTION_TYPE},isArray:function(a){return $.type(a)===ARRAY_TYPE},isDate:function(a){return $.type(a)===DATE_TYPE},isNumeric:function(a){return!isNaN(parseFloat(a))&&
isFinite(a)},hasClass:function(a,b){return RegExp("\\b"+b+"\\b").test(a.className)},addClass:function(a,b){$.hasClass(a,b)||(a.className+=a.className?whiteSpace+b:b)},removeClass:function(a,b){var c=a.className.match(whiteSpace+b)?whiteSpace+b:b;a.className=a.className.replace(c,"")},getParentByClassName:function(a,b){for(;a&&!$.hasClass(a,b);)a=a.parentNode||null;return a},getElementsByClassName:function(a,b){var c=[],b=b||document.getElementsByTagName(html.body).item(0);$.loopArray(b.getElementsByTagName(asterisk),
function(b){$.hasClass(b,a)&&c.push(b)});return c},hasProperty:function(a,b){var c=Object.prototype.hasOwnProperty,d="__proto__";if(c)return c.call(a,b);d=a[d]||a.constructor.prototype;return!$.isUndefined(a[b])&&($.isUndefined(d[b])||d[b]!==a[b])},loop:function(a,b){for(var c=0;c<a&&null!==b(c);)c++},rloop:function(a,b){for(;a--;)b(a)},loopArray:function(a,b){$.loop(a.length,function(c){return 2===b.length?b(c,a[c]):b(a[c])})},loopObject:function(a,b){for(var c in a)if(1===b.length){if(null===b(a[c]))break}else if(2===
b.length&&null===b(c,a[c]))break},loopObjectKeys:function(a,b){for(var c in a)if(null===b(c))break},isObjectEmpty:function(a){for(var b in a)if($.hasProperty(a,b))return!1;return!0},mergeObject:function(a,b){for(var c in b)a[c]=b[c];return a},cloneObject:function(a){var b={};if(!$.isObject(a))return a;$.loopObject(a,function(a,d){b[a]=$.cloneObject(d)});return b},getParamsFromObject:function(a){var b=[];$.loopObject(a,function(a,d){b[b.length]=encodeURIComponent(a)+"="+encodeURIComponent(d)});return b.join("&")},
getEventTarget:function(a){a=a||window.event;a=a.target||a.srcElement;3===a.nodeType&&(a=a.parentNode);return a},randomID:function(a){for(var b="",c=0;c<a;)b+="0123456789ABCDEFGHIJKLMNOPQURSTUVWXYZ".substr(Math.floor(37*Math.random()),1),c++;return b},getMousePosition:function(a){var a=a||window.event,b=document.documentElement,c=document.body,d={x:0,y:0};a.pageX||a.pageY?(d.x=a.pageX,d.y=a.pageY):(d.x=a.clientX+(b.scrollLeft||c.scrollLeft)-b.clientLeft,d.y=a.clientY+(b.scrollTop||c.scrollTop)-b.clientTop);
return d},getWidth:function(a){var b=a.offsetWidth||a.clientWidth;b||($.setStyle(a,css.visibility,"hidden"),$.show(a),b=a.offsetWidth||a.clientWidth,$.hide(a),$.setStyle(a,css.visibility,"visible"));return b||0},setWidth:function(a,b){$.setStyle(a,css.width,b)},getHeight:function(a){var b=a.offsetHeight||a.clientHeight;b||($.setStyle(a,css.visibility,"hidden"),$.show(a),b=a.offsetHeight||a.clientHeight,$.hide(a),$.setStyle(a,css.visibility,"visible"));return b||0},setHeight:function(a,b){$.setStyle(a,
css.height,b)},getCumulativeOffset:function(a){var b={x:0,y:0};if(a.offsetParent){do b.x+=a.offsetLeft,b.y+=a.offsetTop,a=a.offsetParent;while(a)}return b},attribute:function(a,b,c){var d=a.nodeType;if(a&&!(3===d||8===d||2===d))if($.isObject(b))$.loopObject(b,function(b,c){$.attribute(a,b,c)});else{if($.isUndefined(c))return a.getAttribute(b);if(null===c||!1===c)"class"===b?$.removeClass(a,c):a.removeAttribute(b);else return"class"===b?$.addClass(a,c):a.setAttribute(b,c),c}},getGUID:function(a){var b;
a===window?b=splElmIds.window:a===document?b=splElmIds.document:(b=$.attribute(a,attributes.guid))||(b=$.attribute(a,attributes.guid,$.randomID(16)));return b},setStyles:function(a,b){$.loopObject(b,function(b,d){$.setStyle(a,b,d)})},setStyle:function(a,b,c){var d=a.style,b=b===css.cssFloat?support.cssFloat()?"cssFloat":"styleFloat":b;if(d&&a&&!(3===a.nodeType||8===a.nodeType))if(b===css.opacity)$.setAlpha(a,c);else{$.isNumber(c)&&!$.inArray([css.zIndex,css.fontWeight,css.opacity,css.zoom,css.lineHeight],
b)&&(c+=cssUnit);try{d[b]=c}catch(e){}}},getStyle:function(a,b){var c;c=!support.opacity()&&b===css.opacity?(c=$.getStyle(a,css.filter))?parseFloat(c.replace(regex.nump,""))/100:null:$.getComputedStyles(a)[b];return"auto"===c?null:c},getComputedStyles:function(a){var b={},c=defaultView?defaultView.getComputedStyle(a,null):a.currentStyle,a=c.length,d=function(a){var d,f;$.isUndefined(c.getPropertyValue)||(d=c.getPropertyValue(a));d||(d=c[a]);if(d){f=$.type(d);if($.isNumeric(d)&&f!==NUMBER_TYPE||f===
STRING_TYPE&&0<d.indexOf(cssUnit))f=parseFloat(d),isNaN(f)||(d=f);b[$.camelize(a)]=d}};a?$.loop(a,function(a){d(c[a])}):$.loopObjectKeys(c,function(a){$.hasProperty(c,a)&&d(a)});return b},camelize:function(a){return a.replace(regex.camel,function(a,c){return c?c.toUpperCase():""})},stopBubble:function(a){a=a||window.event;a.preventDefault?a.preventDefault():a.returnValue=!1;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0},removeChildren:function(a){if(a)for(;a.hasChildNodes();)$.removeElement(a.firstChild)},
cleanElement:function(a){var b=$.getGUID(a);$.removeAllEvents(a);$.removeChildren(a);delete cacheElements[b]},removeElement:function(a){a&&($.cleanElement(a),a.parentNode&&a.parentNode.removeChild(a))},replaceElement:function(a,b){$.cleanElement(a);$.isString(b)&&(b=document.createTextNode(b));a.parentNode&&a.parentNode.replaceChild(b,a)},insertBefore:function(a,b){a.parentNode.insertBefore(b,a);return b},insertAfter:function(a,b){$.isString(b)&&(b=document.createTextNode(b));a.parentNode.insertBefore(b,
$.getNextSibling(a));return b},getNextSibling:function(a){do a=a.nextSibling;while(a&&1!==a.nodeType);return a},newElement:function(a,b,c){var a=document.createElement(a),d=$.getGUID(a);cacheElements[d]=a;b&&$.isString(b)&&(c=c||b,b={});b&&$.isObject(b)&&$.attribute(a,b);c&&$.isString(c)&&$.appendText(a,c);return a},domAppend:function(a,b,c,d){c&&$.isString(c)&&(d=d||c,c={});$.isString(a)&&(a=$.newElement(a,c,d));c=a.nodeType;d=b.nodeType;(1===c||11===c||3===c)&&(1===d||11===d||3===d)&&b.appendChild(a);
return a},domWrap:function(a,b,c,d){c&&$.isString(c)&&(d=d||c,c={});$.isString(a)&&(a=$.newElement(a,c,d));$.isElement(a)&&$.isElement(b)&&(b.parentNode.insertBefore(a,b),$.domAppend(b,a));return a},isElementIn:function(a,b){for(;a;){if(a===b||a.nodeName.toLowerCase()===b)return!0;a=a.parentNode}return!1},isElementEmpty:function(a){return 0===a.children.length},parseHTML:function(a,b){var c=document.createDocumentFragment(),d;d=function(a){var c={},f;$.hasProperty(a,b.id)&&(c.id=a[b.id]);$.hasProperty(a,
b.className)&&(c["class"]=a[b.className]);$.hasProperty(a,b.attr)&&$.loopObject(a[b.attr],function(a,b){c[a]=b});$.hasProperty(a,b.nodeName)&&(f=$.newElement(a[b.nodeName],c),a[b.childNodes]&&0<a[b.childNodes].length&&$.loopArray(a[b.childNodes],function(a){$.domAppend(d(a),f)}));a[b.text]&&0<a[b.text].length&&(f?$.appendText(f,a[b.text]):f=document.createTextNode(a[b.text]));return f};b=b||{nodeName:"nodeName",childNodes:"childNodes",className:"className",id:"id",attr:"attr",text:"text"};$.isArray(a)?
$.loopArray(a,function(a){$.domAppend(d(a),c)}):$.isObject(a)&&$.domAppend(d(a),c);return c},replaceHTML:function(a,b){$.removeChildren(a);$.isString(b)?$.appendText(a,b):a.appendChild($.parseHTML(b))},appendText:function(a,b){if(0<b.length)return a.appendChild(document.createTextNode(b))},textContentRecursive:function(a,b){for(;a;){if(!a.firstChild||!$.isElement(a.firstChild))return b?$.textContent(a,b):$.textContent(a);a=a.firstChild}},textContent:function(a,b){var c,d,e;c=0;for(d=a.childNodes.length;c<
d;c++)if(e=a.childNodes[c],3===e.nodeType)return b&&(e.nodeValue=b),e.nodeValue;return b?$.appendText(a,b):""},show:function(a){a.style[css.display]="block"},hide:function(a){a.style[css.display]="none"},isVisible:function(a){a=$.getComputedStyles(a);return"hidden"===a[css.visibility]||"none"===a[css.display]?!1:!0},handleEvent:function(a){a=a||window.event;$.stopBubble(a);var b=this,c=!0,d=b.events[a.type];$.loopObjectKeys(d,function(e){b.handleEvent=d[e];!1===b.handleEvent(a)&&(c=!1)});return c},
hasEvent:function(a,b){var c=$.getGUID(a);return!(!cacheEvents[c]||!cacheEvents[c][b])},addEvent:function(a,b,c){var d=$.getGUID(a);$.hasEvent(a,b)&&$.removeEvent(a,b);cacheEvents[d]||(cacheEvents[d]={});cacheEvents[d][b]={element:a,handler:c};a.addEventListener?a.addEventListener(b,c,!1):(c.guid||(c.guid=$.randomID(12)),a.events||(a.events={}),d=a.events[b],d||(d=a.events[b]={},a[ieEventPrefix+b]&&(d[0]=a[ieEventPrefix+b])),d[c.guid]=c,a[ieEventPrefix+b]=$.handleEvent)},removeEvent:function(a,b){var c=
$.getGUID(a),d;$.hasEvent(a,b)&&(d=cacheEvents[c][b].handler,delete cacheEvents[c][b],$.isObjectEmpty(cacheEvents[c])&&delete cacheEvents[c],a.removeEventListener?a.removeEventListener(b,d,!1):a.events&&a.events[b]&&delete a.events[b][d.guid])},removeAllEvents:function(a){var b=$.getGUID(a);cacheEvents[b]&&$.loopObjectKeys(cacheEvents[b],function(b){$.removeEvent(a,b)})},replaceEvent:function(a,b,c){$.removeEvent(a,b);$.addEvent(a,b,c)},fireEvent:function(a,b){var c;$.hasEvent(a,b)&&(document.createEvent?
(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c)):(c=document.createEventObject(),c.eventType=ieEventPrefix+b,a.fireEvent(c.eventType,c)))},click:function(a,b,c){c=c||!1;$.addEvent(a,events.click,function(d){$.stopBubble(d);c&&$.removeEvent(a,events.click);b&&b.call(a,d);return!1})},jsonpGarbageCollect:function(a){$.removeElement(document.getElementById(a));clearTimeout(jsonpTimeout[a]);delete jsonpTimeout[a];delete jsonpHandler[a]},loadJSONP:function(a,b,c,d){var e="JSONP_"+
$.randomID(12),g="",f=(new Date).getTime();b&&($.isFunction(b)?(c=b,b=""):$.isObject(b)&&(g=(g=$.getParamsFromObject(b))?"&"+g:""));a=a+"?jsid="+e+g;d=d||3E4;0<d&&(jsonpTimeout[e]=setTimeout(function(){c&&c(null,d);$.jsonpGarbageCollect(e)},d));jsonpHandler[e]=function(a){var b=(new Date).getTime()-f;c&&c(a,b);$.jsonpGarbageCollect(e)};$.domAppend(html.script,document.getElementsByTagName(html.head).item(0),{id:e,src:a,type:MIME_JSTXT})},stopAnimation:function(a){a.animationMemory&&clearInterval(a.animationMemory)},
animate:function(a,b,c,d,e){var g=[],f,i=(new Date).getTime(),h=function(b,c){var d={};d.cssProp=b;d.startValue=$.getStyle(a,d.cssProp)||0;d.endValue=c;d.displacement=d.endValue-d.startValue;!isNaN(d.startValue)&&(!isNaN(d.endValue)&&!isNaN(d.displacement))&&g.push(d)};$.isObject(b)?(e=d,d=c,c=null,$.loopObject(b,function(a,b){h(a,b)})):h(b,c);0!==g.length&&(f=Math.PI/(2*d),a.animationMemory&&$.stopAnimation(a),a.animationMemory=setInterval(function(){var b=(new Date).getTime()-i,c=Math.abs(Math.sin(b*
f));b<d?$.loopArray(g,function(b){$.setStyle(a,b.cssProp,c*b.displacement+b.startValue)}):($.stopAnimation(a),$.loopArray(g,function(b){$.setStyle(a,b.cssProp,b.endValue)}),e&&e.call(a))},10))},setAlpha:function(a,b){support.opacity()?a.style[css.opacity]=b:a.style[css.filter]="alpha(opacity = "+String(100*b)+") "},fadeTo:function(a,b,c,d){$.animate(a,css.opacity,b,c,d)},fadeIn:function(a,b,c){$.fadeTo(a,1,b,c)},fadeOut:function(a,b,c){$.fadeTo(a,0,b,c)},stripSpaces:function(a){return a.replace(regex.ss,
"")},inArray:function(a,b){var c=!1;$.loopArray(a,function(a){if(a===b)return c=!0,null});return c},arrayUnique:function(a){var b=[];$.loopArray(a,function(a){$.inArray(b,a)||(b[b.length]=a)});return b},removeArrayItem:function(a,b){$.loopArray(a,function(c,d){d===b&&a.splice(c,1)});return a},parseUrl:function(a){for(var b="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),a=regex.purl.exec(a),c={},d=14;d--;)c[b[d]]=a[d]||"";c.queryKey=
{};c[b[12]].replace(regex.query,function(a,b,d){b&&(c.queryKey[b]=d)});return c},getFileExtension:function(a){return(a=(a=a?$.parseUrl(a).file:null)?regex.fext.exec(a).pop():null)?a.toLowerCase():null},runInterval:function(a,b,c,d,e){var g,f=0;!0===c.call()?d.call():g=window.setInterval(function(){!0===c.call()?(clearInterval(g),d.call()):(f++,f>=b&&(window.clearInterval(g),e&&e.call()))},a)},stringFormat:function(a,b){var c=a;$.loopArray(b,function(a,b){c=c.replace(RegExp("\\{"+a+"\\}","gi"),b)});
return c}};